//////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2010, 2021 Contributors to the Eclipse Foundation
//
// See the NOTICE file(s) distributed with this work for additional
// information regarding copyright ownership.
//
// This program and the accompanying materials are made available
// under the terms of the MIT License which is available at
// https://opensource.org/licenses/MIT
//
// SPDX-License-Identifier: MIT
//////////////////////////////////////////////////////////////////////////////

automaton p:
  disc list int l0, l1, l2, l4, l3, ln1, ln2, ln3, ln4;
  disc string   s0, s1, s2, s4, s3, sn1, sn2, sn3, sn4;

  location x1:
    initial;

    edge do l0  := [1, 2, 3][  :  ]                           // [1, 2, 3]
    goto x2;

  location x2:
    edge do l0  := [1, 2, 3][  : 0],                          // []
            l1  := [1, 2, 3][  : 1],                          // [1]
            l2  := [1, 2, 3][  : 2],                          // [1, 2]
            l3  := [1, 2, 3][  : 3],                          // [1, 2, 3]
            l4  := [1, 2, 3][  : 4],                          // [1, 2, 3]
            ln1 := [1, 2, 3][  :-1],                          // [1, 2]
            ln2 := [1, 2, 3][  :-2],                          // [1]
            ln3 := [1, 2, 3][  :-3],                          // []
            ln4 := [1, 2, 3][  :-4]                           // []
    goto x3;

  location x3:
    edge do l0  := [1, 2, 3][ 0:  ],                          // [1, 2, 3]
            l1  := [1, 2, 3][ 1:  ],                          // [2, 3]
            l2  := [1, 2, 3][ 2:  ],                          // [3]
            l3  := [1, 2, 3][ 3:  ],                          // []
            l4  := [1, 2, 3][ 4:  ],                          // []
            ln1 := [1, 2, 3][-1:  ],                          // [3]
            ln2 := [1, 2, 3][-2:  ],                          // [2, 3]
            ln3 := [1, 2, 3][-3:  ],                          // [1, 2, 3]
            ln4 := [1, 2, 3][-4:  ]                           // [1, 2, 3]
    goto x4;

  location x4:
    edge do l0  := [1, 2, 3][ 0: 0],                          // []
            l1  := [1, 2, 3][ 0: 1],                          // [1]
            l2  := [1, 2, 3][ 0: 2],                          // [1, 2]
            l3  := [1, 2, 3][ 0: 3],                          // [1, 2, 3]
            l4  := [1, 2, 3][ 0: 4],                          // [1, 2, 3]
            ln1 := [1, 2, 3][ 0:-1],                          // [1, 2]
            ln2 := [1, 2, 3][ 0:-2],                          // [1]
            ln3 := [1, 2, 3][ 0:-3],                          // []
            ln4 := [1, 2, 3][ 0:-4]                           // []
    goto x5;

  location x5:
    edge do l0  := [1, 2, 3][ 1: 0],                          // []
            l1  := [1, 2, 3][ 1: 1],                          // []
            l2  := [1, 2, 3][ 1: 2],                          // [2]
            l3  := [1, 2, 3][ 1: 3],                          // [2, 3]
            l4  := [1, 2, 3][ 1: 4],                          // [2, 3]
            ln1 := [1, 2, 3][ 1:-1],                          // [2]
            ln2 := [1, 2, 3][ 1:-2],                          // []
            ln3 := [1, 2, 3][ 1:-3],                          // []
            ln4 := [1, 2, 3][ 1:-4]                           // []
    goto x6;

  location x6:
    edge do l0  := [1, 2, 3][ 2: 0],                          // []
            l1  := [1, 2, 3][ 2: 1],                          // []
            l2  := [1, 2, 3][ 2: 2],                          // []
            l3  := [1, 2, 3][ 2: 3],                          // [3]
            l4  := [1, 2, 3][ 2: 4],                          // [3]
            ln1 := [1, 2, 3][ 2:-1],                          // []
            ln2 := [1, 2, 3][ 2:-2],                          // []
            ln3 := [1, 2, 3][ 2:-3],                          // []
            ln4 := [1, 2, 3][ 2:-4]                           // []
    goto x7;

  location x7:
    edge do l0  := [1, 2, 3][ 3: 0],                          // []
            l1  := [1, 2, 3][ 3: 1],                          // []
            l2  := [1, 2, 3][ 3: 2],                          // []
            l3  := [1, 2, 3][ 3: 3],                          // []
            l4  := [1, 2, 3][ 3: 4],                          // []
            ln1 := [1, 2, 3][ 3:-1],                          // []
            ln2 := [1, 2, 3][ 3:-2],                          // []
            ln3 := [1, 2, 3][ 3:-3],                          // []
            ln4 := [1, 2, 3][ 3:-4]                           // []
    goto x8;

  location x8:
    edge do l0  := [1, 2, 3][ 4: 0],                          // []
            l1  := [1, 2, 3][ 4: 1],                          // []
            l2  := [1, 2, 3][ 4: 2],                          // []
            l3  := [1, 2, 3][ 4: 3],                          // []
            l4  := [1, 2, 3][ 4: 4],                          // []
            ln1 := [1, 2, 3][ 4:-1],                          // []
            ln2 := [1, 2, 3][ 4:-2],                          // []
            ln3 := [1, 2, 3][ 4:-3],                          // []
            ln4 := [1, 2, 3][ 4:-4]                           // []
    goto x9;

  location x9:
    edge do l0  := [1, 2, 3][-1: 0],                          // []
            l1  := [1, 2, 3][-1: 1],                          // []
            l2  := [1, 2, 3][-1: 2],                          // []
            l3  := [1, 2, 3][-1: 3],                          // [3]
            l4  := [1, 2, 3][-1: 4],                          // [3]
            ln1 := [1, 2, 3][-1:-1],                          // []
            ln2 := [1, 2, 3][-1:-2],                          // []
            ln3 := [1, 2, 3][-1:-3],                          // []
            ln4 := [1, 2, 3][-1:-4]                           // []
    goto x10;

  location x10:
    edge do l0  := [1, 2, 3][-2: 0],                          // []
            l1  := [1, 2, 3][-2: 1],                          // []
            l2  := [1, 2, 3][-2: 2],                          // [2]
            l3  := [1, 2, 3][-2: 3],                          // [2, 3]
            l4  := [1, 2, 3][-2: 4],                          // [2, 3]
            ln1 := [1, 2, 3][-2:-1],                          // [2]
            ln2 := [1, 2, 3][-2:-2],                          // []
            ln3 := [1, 2, 3][-2:-3],                          // []
            ln4 := [1, 2, 3][-2:-4]                           // []
    goto x11;

  location x11:
    edge do l0  := [1, 2, 3][-3: 0],                          // []
            l1  := [1, 2, 3][-3: 1],                          // [1]
            l2  := [1, 2, 3][-3: 2],                          // [1, 2]
            l3  := [1, 2, 3][-3: 3],                          // [1, 2, 3]
            l4  := [1, 2, 3][-3: 4],                          // [1, 2, 3]
            ln1 := [1, 2, 3][-3:-1],                          // [1, 2]
            ln2 := [1, 2, 3][-3:-2],                          // [1]
            ln3 := [1, 2, 3][-3:-3],                          // []
            ln4 := [1, 2, 3][-3:-4]                           // []
    goto x12;

  location x12:
    edge do l0  := [1, 2, 3][-4: 0],                          // []
            l1  := [1, 2, 3][-4: 1],                          // [1]
            l2  := [1, 2, 3][-4: 2],                          // [1, 2]
            l3  := [1, 2, 3][-4: 3],                          // [1, 2, 3]
            l4  := [1, 2, 3][-4: 4],                          // [1, 2, 3]
            ln1 := [1, 2, 3][-4:-1],                          // [1, 2]
            ln2 := [1, 2, 3][-4:-2],                          // [1]
            ln3 := [1, 2, 3][-4:-3],                          // []
            ln4 := [1, 2, 3][-4:-4]                           // []
    goto clear_lists;

  location clear_lists:
    edge do l0  :=  [],                                       // []
            l1  :=  [],                                       // [1]
            l2  :=  [],                                       // [1, 2]
            l3  :=  [],                                       // [1, 2, 3]
            l4  :=  [],                                       // [1, 2, 3]
            ln1 :=  [],                                       // [1, 2]
            ln2 :=  [],                                       // [1]
            ln3 :=  [],                                       // []
            ln4 :=  []                                        // []
    goto x13;

  location x13:
    edge do s0  := "ghi"[  :  ]                               // "ghi"
    goto x14;

  location x14:
    edge do s0  := "ghi"[  : 0],                              // ""
            s1  := "ghi"[  : 1],                              // "g"
            s2  := "ghi"[  : 2],                              // "gh"
            s3  := "ghi"[  : 3],                              // "ghi"
            s4  := "ghi"[  : 4],                              // "ghi"
            sn1 := "ghi"[  :-1],                              // "gh"
            sn2 := "ghi"[  :-2],                              // "g"
            sn3 := "ghi"[  :-3],                              // ""
            sn4 := "ghi"[  :-4]                               // ""
    goto x15;

  location x15:
    edge do s0  := "ghi"[ 0:  ],                              // "ghi"
            s1  := "ghi"[ 1:  ],                              // "hi"
            s2  := "ghi"[ 2:  ],                              // "i"
            s3  := "ghi"[ 3:  ],                              // ""
            s4  := "ghi"[ 4:  ],                              // ""
            sn1 := "ghi"[-1:  ],                              // "i"
            sn2 := "ghi"[-2:  ],                              // "hi"
            sn3 := "ghi"[-3:  ],                              // "ghi"
            sn4 := "ghi"[-4:  ]                               // "ghi"
    goto x16;

  location x16:
    edge do s0  := "ghi"[ 0: 0],                              // ""
            s1  := "ghi"[ 0: 1],                              // "g"
            s2  := "ghi"[ 0: 2],                              // "gh"
            s3  := "ghi"[ 0: 3],                              // "ghi"
            s4  := "ghi"[ 0: 4],                              // "ghi"
            sn1 := "ghi"[ 0:-1],                              // "gh"
            sn2 := "ghi"[ 0:-2],                              // "g"
            sn3 := "ghi"[ 0:-3],                              // ""
            sn4 := "ghi"[ 0:-4]                               // ""
    goto x17;

  location x17:
    edge do s0  := "ghi"[ 1: 0],                              // ""
            s1  := "ghi"[ 1: 1],                              // ""
            s2  := "ghi"[ 1: 2],                              // "h"
            s3  := "ghi"[ 1: 3],                              // "hi"
            s4  := "ghi"[ 1: 4],                              // "hi"
            sn1 := "ghi"[ 1:-1],                              // "h"
            sn2 := "ghi"[ 1:-2],                              // ""
            sn3 := "ghi"[ 1:-3],                              // ""
            sn4 := "ghi"[ 1:-4]                               // ""
    goto x18;

  location x18:
    edge do s0  := "ghi"[ 2: 0],                              // ""
            s1  := "ghi"[ 2: 1],                              // ""
            s2  := "ghi"[ 2: 2],                              // ""
            s3  := "ghi"[ 2: 3],                              // "i"
            s4  := "ghi"[ 2: 4],                              // "i"
            sn1 := "ghi"[ 2:-1],                              // ""
            sn2 := "ghi"[ 2:-2],                              // ""
            sn3 := "ghi"[ 2:-3],                              // ""
            sn4 := "ghi"[ 2:-4]                               // ""
    goto x19;

  location x19:
    edge do s0  := "ghi"[ 3: 0],                              // ""
            s1  := "ghi"[ 3: 1],                              // ""
            s2  := "ghi"[ 3: 2],                              // ""
            s3  := "ghi"[ 3: 3],                              // ""
            s4  := "ghi"[ 3: 4],                              // ""
            sn1 := "ghi"[ 3:-1],                              // ""
            sn2 := "ghi"[ 3:-2],                              // ""
            sn3 := "ghi"[ 3:-3],                              // ""
            sn4 := "ghi"[ 3:-4]                               // ""
    goto x20;

  location x20:
    edge do s0  := "ghi"[ 4: 0],                              // ""
            s1  := "ghi"[ 4: 1],                              // ""
            s2  := "ghi"[ 4: 2],                              // ""
            s3  := "ghi"[ 4: 3],                              // ""
            s4  := "ghi"[ 4: 4],                              // ""
            sn1 := "ghi"[ 4:-1],                              // ""
            sn2 := "ghi"[ 4:-2],                              // ""
            sn3 := "ghi"[ 4:-3],                              // ""
            sn4 := "ghi"[ 4:-4]                               // ""
    goto x21;

  location x21:
    edge do s0  := "ghi"[-1: 0],                              // ""
            s1  := "ghi"[-1: 1],                              // ""
            s2  := "ghi"[-1: 2],                              // ""
            s3  := "ghi"[-1: 3],                              // "i"
            s4  := "ghi"[-1: 4],                              // "i"
            sn1 := "ghi"[-1:-1],                              // ""
            sn2 := "ghi"[-1:-2],                              // ""
            sn3 := "ghi"[-1:-3],                              // ""
            sn4 := "ghi"[-1:-4]                               // ""
    goto x22;

  location x22:
    edge do s0  := "ghi"[-2: 0],                              // ""
            s1  := "ghi"[-2: 1],                              // ""
            s2  := "ghi"[-2: 2],                              // "h"
            s3  := "ghi"[-2: 3],                              // "hi"
            s4  := "ghi"[-2: 4],                              // "hi"
            sn1 := "ghi"[-2:-1],                              // "h"
            sn2 := "ghi"[-2:-2],                              // ""
            sn3 := "ghi"[-2:-3],                              // ""
            sn4 := "ghi"[-2:-4]                               // ""
    goto x23;

  location x23:
    edge do s0  := "ghi"[-3: 0],                              // ""
            s1  := "ghi"[-3: 1],                              // "g"
            s2  := "ghi"[-3: 2],                              // "gh"
            s3  := "ghi"[-3: 3],                              // "ghi"
            s4  := "ghi"[-3: 4],                              // "ghi"
            sn1 := "ghi"[-3:-1],                              // "gh"
            sn2 := "ghi"[-3:-2],                              // "g"
            sn3 := "ghi"[-3:-3],                              // ""
            sn4 := "ghi"[-3:-4]                               // ""
    goto x24;

  location x24:
    edge do s0  := "ghi"[-4: 0],                              // ""
            s1  := "ghi"[-4: 1],                              // "g"
            s2  := "ghi"[-4: 2],                              // "gh"
            s3  := "ghi"[-4: 3],                              // "ghi"
            s4  := "ghi"[-4: 4],                              // "ghi"
            sn1 := "ghi"[-4:-1],                              // "gh"
            sn2 := "ghi"[-4:-2],                              // "g"
            sn3 := "ghi"[-4:-3],                              // ""
            sn4 := "ghi"[-4:-4]                               // ""
    goto x25;

  location x25:
    urgent;
end
